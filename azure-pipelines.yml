---
trigger:
  batch: true
  branches:
    include:
      - master
pr:
  - master

stages:
  - stage: Invoke API
    jobs:
      - job: HTTPRequest
        pool: windows-server
        steps:
          - task: InvokeRESTAPI@1
            displayName: "HTTPRequest"
            inputs:
              connectionType: 'connectedServiceName'
              serviceConnection: 'https://10.10.1.205'
              method: 'PUT'
              headers: |
                {
                  "Authorization":"Basic QWNjZXNzS2V5OnNwZWN0cmFhZG1pbg==",
                  "Content-Type":"application/json"
                }
              body: '{"AssetType":"Unix based","AssetHost":"10.10.1.163","DBInstance":"","AccountName":"root","Instance":"Default"}'
              urlSuffix: '/API/APP/APP008/RequestPassword'
              waitForCompletion: 'false'
